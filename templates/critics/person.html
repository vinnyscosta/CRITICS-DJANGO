{% extends 'shared/base.html' %}
{% load static %}
{% block content %}

<style>
    .scrolling-container {
        overflow-x: auto;
        white-space: nowrap;
    }

    .scrolling-container::-webkit-scrollbar {
        width: 12px;
    }

    .scrolling-container::-webkit-scrollbar-track {
        background-color: #f1f1f1;
    }

    .scrolling-container::-webkit-scrollbar-thumb {
        background-color: #888;
        border-radius: 6px;
        border: 3px solid #f1f1f1;
    }
</style>

<div class="container-xl">
    <h3 class="text-white text-center">
        {{ person.name }}                     
    </h3>
    <div class="row">
        <div class="col-auto">
            <img src="https://image.tmdb.org/t/p/original/{{ person.profile_path }}" alt="{{ movie.title }} Poster" 
            class="d-block mx-auto rounded" style="max-height: 500px;">
        </div>
        <div class="col-8">
            <p class="text-white">
                {% if person.birthday %} Birthday: {{ person.birthday }} {% endif %}
                {% if person.deathday %} Deathday: {{ person.deathday }} {% endif %}
            </p>
            <p class="text-white">{{ person.biography }}</p>
        </div>
    </div>

    <br>

    <h4 class="text-white">
        {{ person.name }} em filmes
    </h4>

    {% if movies.cast %}
        <br>
        <h5 class="text-white">
            Elenco
        </h4>
        <div>
            <div class="row flex-nowrap overflow-x-auto overflow-y-auto scrolling-container" style="max-height: 220px;">
                {% for movie in movies.cast %}
                    <div class="col-auto text-center" style="max-width: 120px;">
                        <figure class="figure">
                            <a href="{% url 'movie' movie.id %}">
                                <img src="{% if movie.poster_path %}https://image.tmdb.org/t/p/original/{{ movie.poster_path }}{% else %}text-bg-danger{% endif %}" 
                                    class="figure-img img-fluid rounded img-thumbnail" alt="..."  style="max-height: 100px;">
                            </a>
                            <figcaption class="text-white text-break text-wrap">{{ movie.title }}</figcaption>
                            <figcaption class="text-white text-break text-wrap fst-italic figure-caption">{{ movie.character }}</figcaption>
                        </figure>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <br>

    {% if movies.crew %}
        <br>
        <h5 class="text-white">
            Equipe
        </h4>
        <div>
            <div class="row flex-nowrap overflow-x-auto overflow-y-auto scrolling-container" style="max-height: 220px;">
                {% for movie in movies.crew %}
                    <div class="col-auto text-center" style="max-width: 120px;">
                        <figure class="figure">
                            <a href="{% url 'movie' movie.id %}">
                                <img src="{% if movie.poster_path %}https://image.tmdb.org/t/p/original/{{ movie.poster_path }}{% else %}text-bg-danger{% endif %}" 
                                    class="figure-img img-fluid rounded img-thumbnail" alt="..." style="max-height: 100px;">
                            </a>
                            <figcaption class="text-white text-break text-wrap">{{ movie.title }}</figcaption>
                            <figcaption class="text-white text-break text-wrap fst-italic figure-caption">{{ movie.job }}</figcaption>
                        </figure>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <br>

</div>
{% endblock %}